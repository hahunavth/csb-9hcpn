(this["webpackJsonphahunavth-todo-app"]=this["webpackJsonphahunavth-todo-app"]||[]).push([[0],{53:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(7),a=n.n(c),d=n(4),r=n(5),s=n(6),i=n.n(s),l=n(12),u=n(13),j=n.n(u),b=Object(r.b)("todos/todosFetched",Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://jsonplaceholder.typicode.com/todos?_limit=5");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),p=Object(r.b)("todos/todosAdded",function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:Object(r.d)(),title:t,completed:!1},e.next=3,j.a.get("https://jsonplaceholder.typicode.com/todos",n);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(r.c)({name:"todos",initialState:{allTodos:[]},reducers:{addTodos:{reducer:function(e,t){e.allTodos.unshift(t.payload)},prepare:function(e){return{payload:{id:Object(r.d)(),title:e,completed:!1}}}},removeTodos:function(e,t){var n=t.payload;e.allTodos=e.allTodos.filter((function(e){return e.id!==n}))},markComplete:function(e,t){var n=t.payload;e.allTodos=e.allTodos.map((function(e){return e.id===n&&(e.completed=!e.completed),e}))}},extraReducers:{[b.pending]:function(e,t){console.log("Fetching todos from backend ....")},[b.fulfilled]:function(e,t){console.log("Done"),e.allTodos=t.payload},[p.pending]:function(e,t){console.log("try add todo")},[p.fulfilled]:function(e,t){var n=t.payload;console.log("added"+n),e.allTodos.unshift(n)}}}),h=function(e){return e.allTodos},O=f.actions,m=(O.addTodos,O.removeTodos),x=O.markComplete,v=f.reducer,T=Object(r.a)({reducer:v}),g=(n(53),n(1)),y=function(){var e=Object(d.b)(),t=Object(d.c)(h);return Object(o.useEffect)((function(){e(b())}),[e]),Object(g.jsxs)("div",{className:"NavBar",children:[Object(g.jsx)("h1",{children:"Todo"}),Object(g.jsxs)("div",{className:"NavMenu",children:[Object(g.jsx)("span",{children:"Home"}),Object(g.jsx)("span",{children:"About"}),Object(g.jsxs)("span",{children:["Total todos: ",t.length]})]})]})};var k=function(){var e=this,t=Object(d.c)(h),n=Object(d.b)(),c=function(e){n(x(e))},a=function(e){n(m(e))};return Object(o.useEffect)((function(){n(b())}),[n]),Object(g.jsx)("div",{children:Object(g.jsx)("ul",{className:"Todos-list",children:t.map((function(t){return Object(g.jsxs)("li",{className:"Todos-item",children:[Object(g.jsx)("span",{children:t.title}),Object(g.jsx)("input",{type:"checkbox",checked:t.isComplete,onChange:c.bind(e,t.id)},t.id),Object(g.jsx)("button",{onClick:a.bind(e,t.id),children:"Delete"})]},t.id)}))})})},N=n(23);var w=function(){var e=Object(o.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],a=Object(d.b)();return Object(g.jsxs)("form",{className:"TodoForm",onSubmit:function(e){e.preventDefault(),a(p(n)),c("")},children:[Object(g.jsx)("label",{children:"Add Todo: "}),Object(g.jsx)("input",{id:"add-input",type:"text",onChange:function(e){e.preventDefault(),c(e.target.value)},value:n}),Object(g.jsx)("input",{id:"add-btn",type:"submit"})]})};function C(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{}),Object(g.jsx)(w,{}),Object(g.jsx)(k,{})]})}var A=document.getElementById("root");a.a.render(Object(g.jsx)(o.StrictMode,{children:Object(g.jsx)(d.a,{store:T,children:Object(g.jsx)(C,{})})}),A)}},[[55,1,2]]]);
//# sourceMappingURL=main.79640345.chunk.js.map